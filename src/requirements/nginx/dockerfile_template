##----------------------
## ChatGPT Template

# Base image (choose version explicitly, avoid :latest)
FROM [base_image]:[version]

# Labels for metadata (optional but good practice)
LABEL maintainer="[your_name_or_email]" \
      version="[app_version]" \
      description="[short_description]"

# Set environment variables
ENV [key]=[value]

# Set working directory inside container
WORKDIR /[path]

# Copy files from host into container
COPY [source_path] [destination_path]

# Or fetch remote files
ADD [source_or_url] [destination_path]

# Install dependencies (example for Debian/Ubuntu base image)
RUN apt-get update && apt-get install -y \
    [package1] \
    [package2] \
 && rm -rf /var/lib/apt/lists/*

# Run custom build steps
RUN [custom_build_command]

# Expose a port (for networking)
EXPOSE [port_number]

# Define volumes (persistent storage)
VOLUME ["/container/path"]

# Define environment config files
ENV [ENV_VAR_NAME]=[value]

# Default command (overridden by `docker run ...`)
CMD ["executable", "param1", "param2"]

# Alternative entrypoint (sets main process, CMD is arguments)
ENTRYPOINT ["executable", "param1"]



##----------------------
## Erik

FROM alpine:3.20

RUN apk update && apk add --no-cache nginx openssl \
	&& mkdir -p /etc/nginx/ssl /run/nginx /var/log/nginx \
	&& openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
	-keyout /etc/nginx/ssl/nginx.key -out /etc/nginx/ssl/nginx.crt \
	-subj "/C=PT/ST=Porto/L=Porto/O=42/CN=ecarvalh.42.fr"

COPY conf/default.conf /etc/nginx/http.d/default.conf

EXPOSE 443

CMD ["nginx", "-g", "daemon off;"]

##----------------------
## Leo

# Nginx Dockerfile
FROM debian:oldstable

# Install Nginx and OpenSSL
RUN apt-get update && \
    apt-get install -y nginx openssl && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Create SSL cert and key
RUN mkdir -p /etc/nginx/ssl/ && \
    openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
      -keyout /etc/nginx/ssl/cert.key \
      -out /etc/nginx/ssl/cert.crt \
      -subj "/C=PT/ST=Porto/L=Porto/O=42Inception/OU=Dev/CN=lvichi.42.fr"

# Command to run Nginx in the foreground
CMD ["nginx", "-g", "daemon off;"]